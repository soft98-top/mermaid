<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid Renderer - Layout Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .test-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        .test-description {
            color: #666;
            margin-bottom: 15px;
        }
        .test-steps {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 4px;
        }
        .test-steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .test-steps li {
            margin-bottom: 5px;
        }
        .expected-result {
            background: #e8f5e8;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
        }
        .expected-result strong {
            color: #2d5a2d;
        }
    </style>
</head>
<body>
    <h1>Mermaid Renderer - 主应用布局和编辑器位置切换测试</h1>
    
    <p><strong>测试说明：</strong>请按照以下步骤测试应用的布局和编辑器位置切换功能。</p>
    
    <div class="test-section">
        <div class="test-title">测试 1: 基础布局结构</div>
        <div class="test-description">验证应用的三栏布局结构是否正确显示</div>
        <div class="test-steps">
            <ol>
                <li>启动开发服务器：<code>npm run dev</code></li>
                <li>在浏览器中打开 <code>http://localhost:5173</code></li>
                <li>观察页面布局</li>
            </ol>
        </div>
        <div class="expected-result">
            <strong>预期结果：</strong>
            <ul>
                <li>页面顶部显示标题 "Mermaid Renderer" 和副标题</li>
                <li>右侧显示代码编辑器面板</li>
                <li>左侧显示图表画布面板</li>
                <li>底部显示状态栏信息</li>
                <li>右上角显示位置切换按钮 "← 左侧"</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <div class="test-title">测试 2: 编辑器位置切换 (右侧 → 左侧)</div>
        <div class="test-description">测试将编辑器从右侧移动到左侧</div>
        <div class="test-steps">
            <ol>
                <li>点击右上角的 "← 左侧" 按钮</li>
                <li>观察布局变化</li>
                <li>检查按钮文字变化</li>
            </ol>
        </div>
        <div class="expected-result">
            <strong>预期结果：</strong>
            <ul>
                <li>编辑器面板平滑移动到左侧</li>
                <li>图表画布面板移动到右侧</li>
                <li>按钮文字变为 "✕ 隐藏"</li>
                <li>编辑器标题显示 "左侧"</li>
                <li>有平滑的过渡动画效果</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <div class="test-title">测试 3: 编辑器隐藏功能 (左侧 → 隐藏)</div>
        <div class="test-description">测试隐藏编辑器，使画布全屏显示</div>
        <div class="test-steps">
            <ol>
                <li>在编辑器位于左侧时，点击 "✕ 隐藏" 按钮</li>
                <li>观察布局变化</li>
                <li>检查按钮和状态变化</li>
            </ol>
        </div>
        <div class="expected-result">
            <strong>预期结果：</strong>
            <ul>
                <li>编辑器面板完全隐藏</li>
                <li>图表画布扩展到全屏</li>
                <li>按钮文字变为 "→ 右侧"</li>
                <li>画布标题显示 "全屏模式"</li>
                <li>底部状态栏显示 "编辑器位置: 隐藏"</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <div class="test-title">测试 4: 编辑器恢复显示 (隐藏 → 右侧)</div>
        <div class="test-description">测试从隐藏状态恢复编辑器到右侧</div>
        <div class="test-steps">
            <ol>
                <li>在编辑器隐藏时，点击 "→ 右侧" 按钮</li>
                <li>观察布局恢复</li>
                <li>检查完整的切换循环</li>
            </ol>
        </div>
        <div class="expected-result">
            <strong>预期结果：</strong>
            <ul>
                <li>编辑器面板重新显示在右侧</li>
                <li>图表画布调整到左侧</li>
                <li>按钮文字变为 "← 左侧"</li>
                <li>编辑器标题显示 "右侧"</li>
                <li>完成一个完整的切换循环</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <div class="test-title">测试 5: 用户偏好设置保存</div>
        <div class="test-description">测试编辑器位置偏好是否保存到localStorage</div>
        <div class="test-steps">
            <ol>
                <li>将编辑器切换到左侧位置</li>
                <li>刷新浏览器页面</li>
                <li>观察编辑器位置是否保持</li>
                <li>打开浏览器开发者工具，检查 localStorage</li>
            </ol>
        </div>
        <div class="expected-result">
            <strong>预期结果：</strong>
            <ul>
                <li>刷新后编辑器仍在左侧位置</li>
                <li>localStorage 中存在 'mermaid-renderer-editor-position' 键</li>
                <li>该键的值为 'left'</li>
                <li>用户偏好得到正确保存和恢复</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <div class="test-title">测试 6: 画布自动调整</div>
        <div class="test-description">测试画布大小随编辑器位置变化自动调整</div>
        <div class="test-steps">
            <ol>
                <li>在代码编辑器中输入一些Mermaid代码：</li>
                <pre>flowchart TD
    A[开始] --> B{判断}
    B -->|是| C[执行]
    B -->|否| D[结束]
    C --> D</pre>
                <li>切换编辑器位置，观察画布大小变化</li>
                <li>隐藏编辑器，观察画布是否全屏</li>
            </ol>
        </div>
        <div class="expected-result">
            <strong>预期结果：</strong>
            <ul>
                <li>图表正确渲染在画布中</li>
                <li>切换编辑器位置时，画布大小平滑调整</li>
                <li>隐藏编辑器时，画布扩展到全屏</li>
                <li>图表内容始终居中显示</li>
                <li>缩放比例信息正确显示</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <div class="test-title">测试 7: 响应式设计</div>
        <div class="test-description">测试在不同屏幕尺寸下的布局表现</div>
        <div class="test-steps">
            <ol>
                <li>调整浏览器窗口大小到移动设备尺寸 (< 768px)</li>
                <li>观察布局是否自动调整为垂直堆叠</li>
                <li>测试各种屏幕尺寸下的表现</li>
            </ol>
        </div>
        <div class="expected-result">
            <strong>预期结果：</strong>
            <ul>
                <li>小屏幕下布局自动变为垂直堆叠</li>
                <li>编辑器和画布都占满屏幕宽度</li>
                <li>功能按钮仍然可用</li>
                <li>文字和界面元素适当缩放</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <div class="test-title">测试 8: 动画过渡效果</div>
        <div class="test-description">验证所有布局变化都有平滑的动画效果</div>
        <div class="test-steps">
            <ol>
                <li>多次快速切换编辑器位置</li>
                <li>观察动画是否流畅</li>
                <li>检查是否有闪烁或跳跃现象</li>
            </ol>
        </div>
        <div class="expected-result">
            <strong>预期结果：</strong>
            <ul>
                <li>所有位置切换都有300ms的平滑过渡</li>
                <li>没有闪烁或突兀的跳跃</li>
                <li>动画使用 ease-in-out 缓动函数</li>
                <li>快速切换时动画不会重叠或冲突</li>
            </ul>
        </div>
    </div>

    <hr style="margin: 40px 0;">
    
    <h2>测试完成检查清单</h2>
    <ul>
        <li>☐ 基础三栏布局正确显示</li>
        <li>☐ 编辑器位置切换功能正常 (右侧 → 左侧 → 隐藏 → 右侧)</li>
        <li>☐ 画布大小自动调整</li>
        <li>☐ 用户偏好设置保存到localStorage</li>
        <li>☐ 动画过渡效果流畅</li>
        <li>☐ 响应式设计在移动设备上正常</li>
        <li>☐ 错误提示和加载状态正确显示</li>
        <li>☐ 状态栏信息准确更新</li>
    </ul>

    <p><strong>注意：</strong>如果发现任何问题，请记录具体的错误现象和重现步骤。</p>
</body>
</html>